<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hxfu.mapper.RecordMapper">
    <insert id="addRecord">
        insert into record (openid, wordId, date, familiar, familiarCount, nextDate)
        values (#{openid}, #{wordId}, #{date}, #{familiar}, #{familiarCount}, #{nextDate})
    </insert>
    <select id="getAll" resultType="com.hxfu.entity.Statistics">
        SELECT date, COUNT(id) AS count
        FROM record
        WHERE openid=#{openid}
        GROUP BY date
    </select>
    <!--<update id="editActivity" parameterType="com.hxfu.entity.Activity">
        update activities set content=#{content}, color = #{color} where id = #{id}
    </update>-->
    <!--<delete id="deleteActivity">
        delete from activities where id = #{id}
    </delete>-->
    <select id="getFamiliarCount" resultType="int">
        SELECT familiarCount
        FROM record
        where openid = #{openid}
          and wordId = #{wordId}
    </select>
    <resultMap id="BaseResultMap" type="com.hxfu.entity.Record">
        <result column="id" property="id"/>
        <result column="openid" property="openid"/>
        <result column="wordId" property="wordId"/>
        <result column="date" property="date"/>
        <result column="familiar" property="familiar"/>
        <result column="familiarCount" property="familiarCount"/>
        <result column="nextDate" property="nextDate"/>
    </resultMap>
</mapper>
